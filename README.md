# web3d项目文档

复旦大学2022春季高级Web技术PJ

小组成员：

- 李洋圳
- 袁逸聪
- 赵书誉
- 袁浩

## 概述

### 项目内容

本项目是一个可供多人在线的Web3D教学式场景，参与者可以在此学到最基础的编程语言知识，感受程序的魅力。

所有参与者将进入大厅，共同编写编程语言操控大厅中央桌上的方块运动。

### 工期安排

| 阶段        | 计划时间  | 工作内容                           | 完成情况 | 备注                                                                                                 |
| ----------- | --------- | ---------------------------------- | -------- | ---------------------------------------------------------------------------------------------------- |
| 需求规划    | 4/12-4/13 | 确定项目内容，产出项目文档         | 已完成   |                                                                                                      |
| 前台搭建    | 4/13-4/20 | 完成账号管理及3D场景选择功能       | 迟滞     | 前端进度完成至注册登录跳转、搭建持久化及接口调用工具，需补充用户中心页面；后端进度完成至鉴权以外部分 |
| 前台搭建-补 | 4/21-4/24 | 补完前台搭建需求及双端测试         | 进行中   | 还需要将项目部署到云端                                                                               |
| Web3D探索   | 4/25-5/1  | 探索技术栈并确定虚拟场景的同步方案 | 未开始   |                                                                                                      |
| 虚拟场景    | 5/2-未定  | 完成虚拟场景搭建                   | 未开始   |                                                                                                      |

### 分工

- 前台搭建
  - 前端：李洋圳 袁逸聪（需求对接）
  - 后端：赵书誉 袁浩（需求对接）
- Web3D探索
- 虚拟场景

## 项目需求

### 前台

1. 注册与登录
   1. 账号由邮箱、密码组成
   2. 密码要求6-18位，由数字、大写字母、小写字母组成，至少包含其中两种
   3. 邮箱不可重复注册，提供重复检验与回显提示
2. 用户后台
   1. 用户后台提供选择进入虚拟场景的链接
   2. 用户后台显示邮箱
   3. 用户后台可预览进入虚拟场景所用的虚拟形象
   4. 用户后台显示各场景使用历史
3. 虚拟场景入口
   1. 虚拟场景提供回到用户后台的链接
   2. 本阶段不必实现场景

### 虚拟场景

## 前端页面

1. 主页：供未登录用户浏览，介绍项目情况，并提供注册、登录页面的链接
2. 注册、登录：提供注册、登录功能，成功后跳转到用户后台
3. 用户后台：提供虚拟场景入口，可以查看虚拟场景使用历史
4. 虚拟场景

## 规范及接口

### 编码规范

本项目统一采用小驼峰法传输变量，对前端、后端及数据库都适用

对常用变量命做如下规定

| 变量 | 变量名   |
| ---- | -------- |
| 邮箱 | email    |
| 密码 | password |
| 鉴权 | token    |

### 前后端接口

本项目采用RESTFUL风格API规范

| HTTP Method | 含义 |
| ----------- | ---- |
| GET         | 获取 |
| POST        | 创建 |
| PUT         | 更新 |
| DELETE      | 删除 |

#### 接口一览

- 注册登录
  - 注册，创建账号
  - 查看邮箱重复性，查看账号
  - 登录，创建token
  - 登出，删除token
- 用户后台
  - 创建虚拟场景进入记录
  - 查看虚拟场景进入记录
- 虚拟场景

#### 接口详情

此处展示所有接口通用的返回参数

接口实际返回参数为通用参数加上各自的输出参数

| 参数  | 类型   | 含义           | 必填              | 示例               |
| ----- | ------ | -------------- | ----------------- | ------------------ |
| alert | string | 需要回显的内容 | 否 需要回显时给出 | 服务器繁忙，请重试 |

##### 查看邮箱重复性

`${ip}:${port}/api/account` `GET`

输入参数

| 参数  | 类型   | 含义       | 必填 | 示例                     |
| ----- | ------ | ---------- | ---- | ------------------------ |
| email | string | 所查看邮箱 | 是   | 19302010020@fudan.edu.cn |

输出参数

| 参数  | 类型   | 含义       | 必填        | 示例                     |
| ----- | ------ | ---------- | ----------- | ------------------------ |
| email | string | 查看的邮箱 | 否 存在则有 | 19302010020@fudan.edu.cn |

##### 注册

`${ip}:${port}/api/account` `POST`

输入参数

| 参数     | 类型   | 含义     | 必填 | 示例                     |
| -------- | ------ | -------- | ---- | ------------------------ |
| email    | string | 注册邮箱 | 是   | 19302010020@fudan.edu.cn |
| password | string | 注册密码 | 是   | abcd1234                 |

##### 登录

`${ip}:${port}/api/token` `POST`

输入参数

| 参数     | 类型   | 含义     | 必填 | 示例                     |
| -------- | ------ | -------- | ---- | ------------------------ |
| email    | string | 登录邮箱 | 是   | 19302010020@fudan.edu.cn |
| password | string | 登录密码 | 是   | abcd1234                 |

输出参数

| 参数  | 类型 | 含义     | 必填        | 示例   |
| ----- | ---- | -------- | ----------- | ------ |
| token | int  | 鉴权信息 | 否 成功则有 | 114514 |

##### 登出

`${ip}:${port}/api/token` `DELETE`

输入参数

| 参数  | 类型 | 含义     | 必填 | 示例   |
| ----- | ---- | -------- | ---- | ------ |
| token | int  | 鉴权信息 | 是   | 114514 |

##### 创建虚拟场景使用记录

`${ip}:${port}/api/scene/history` `POST`

输入参数

| 参数  | 类型   | 含义           | 必填 | 示例   |
| ----- | ------ | -------------- | ---- | ------ |
| token | int    | 鉴权信息       | 是   | 114514 |
| scene | string | 使用的虚拟场景 | 是   | 汉诺塔 |

##### 查看虚拟场景使用记录

`${ip}:${port}/api/scene/history` `GET`

输入参数

| 参数  | 类型 | 含义     | 必填 | 示例   |
| ----- | ---- | -------- | ---- | ------ |
| token | int  | 鉴权信息 | 是   | 114514 |

输出参数

| 参数    | 类型        | 含义           | 必填 | 示例                                              |
| ------- | ----------- | -------------- | ---- | ------------------------------------------------- |
| history | json object | 历史记录的list | 是   | [{'scene':"汉诺塔",'time':2022-4-13 19:39},{...}] |
